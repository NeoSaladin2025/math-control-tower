<!DOCTYPE html>
<html lang="ko">
<head>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="manifest" href="site.webmanifest">
    <link rel="apple-touch-icon" href="favicon.ico">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HQ Integrated Management System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        body { font-family: 'Pretendard', sans-serif; overflow: hidden; }
        .nav-item { transition: all 0.2s ease-in-out; border-bottom: 3px solid transparent; opacity: 0.6; }
        .nav-item:hover { opacity: 1; background-color: #f8fafc; }
        .nav-item.active { border-bottom-color: #4f46e5; color: #4f46e5; opacity: 1; font-weight: 800; }
    </style>
</head>
<body class="h-screen flex flex-col bg-slate-50">

    <header class="h-14 bg-white border-b border-slate-200 flex items-center justify-between px-6 shrink-0 z-50 shadow-sm">
        <div class="flex items-center gap-2">
            <div class="w-8 h-8 rounded bg-indigo-600 flex items-center justify-center text-white shadow-md">
                <i class="fa-solid fa-layer-group"></i>
            </div>
            <span class="font-black text-slate-700 tracking-tight text-lg">HQ CONSOLE</span>
        </div>

        <nav class="flex h-full gap-1">
            <button onclick="switchTab('DAILY')" id="tab-daily" class="nav-item active px-6 h-full flex items-center gap-2 text-sm font-bold text-slate-600">
                <i class="fa-solid fa-calendar-check"></i> ì¼ì¼ ê´€ë¦¬
            </button>
            
            <button onclick="switchTab('STATS')" id="tab-stats" class="nav-item px-6 h-full flex items-center gap-2 text-sm font-bold text-slate-600">
                <i class="fa-solid fa-chart-line"></i> ê°œì¸ í†µê³„ ë°ì´í„° ì„¼í„°
            </button>
            
            <button onclick="switchTab('ASSIGN')" id="tab-assign" class="nav-item px-6 h-full flex items-center gap-2 text-sm font-bold text-slate-600">
                <i class="fa-solid fa-pen-nib"></i> ìˆ™ì œ ì¶œì œ
            </button>
            
            <button onclick="switchTab('INSPECT')" id="tab-inspect" class="nav-item px-6 h-full flex items-center gap-2 text-sm font-bold text-slate-600">
                <i class="fa-solid fa-magnifying-glass"></i> ìˆ™ì œ ê²€ì‚¬
            </button>

            <button onclick="switchTab('DIAG')" id="tab-diag" class="nav-item px-6 h-full flex items-center gap-2 text-sm font-bold text-slate-600">
                <i class="fa-solid fa-file-waveform"></i> ì§„ë‹¨í‰ê°€
            </button>
        </nav>

        <div class="w-24 text-right">
            <button onclick="window.close()" class="text-slate-400 hover:text-red-500 transition-colors">
                <i class="fa-solid fa-power-off text-lg"></i>
            </button>
        </div>
    </header>

    <main class="flex-1 bg-slate-100 relative">
        <iframe id="main-frame" src="" class="w-full h-full border-none" allow="camera; microphone"></iframe>
    </main>

    <script>
        function switchTab(mode) {
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            
            const frame = document.getElementById('main-frame');
            let targetFile = "";

            if (mode === 'DAILY') {
                document.getElementById('tab-daily').classList.add('active');
                targetFile = "class_scheduler_student-daily.html";
            } 
            else if (mode === 'STATS') {
                document.getElementById('tab-stats').classList.add('active');
                targetFile = "manager_student_stats_center.html";
            } 
            else if (mode === 'ASSIGN') {
                document.getElementById('tab-assign').classList.add('active');
                targetFile = "manager_assign.html";
            } 
            else if (mode === 'INSPECT') {
                document.getElementById('tab-inspect').classList.add('active');
                targetFile = "manager_inspect.html";
            }
            // [ì§„ë‹¨í‰ê°€ ì—°ë™ ë¡œì§ ì¶”ê°€ ğŸ’‹]
            else if (mode === 'DIAG') {
                document.getElementById('tab-diag').classList.add('active');
                targetFile = "test_center.html"; 
            }

            const params = window.location.search; 
            frame.src = targetFile + params;
            
            console.info(`[System] Switched to ${mode} mode. Target: ${targetFile}`);
        }

        window.onload = () => {
            switchTab('DAILY');
        }
    </script>
</body>
</html>